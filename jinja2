#!/usr/bin/env python3

import jinja2
import sys

def render_template(template_file, output_file, user_name):
    # Load the template file
    template_loader = jinja2.FileSystemLoader(searchpath="./")
    template_env = jinja2.Environment(loader=template_loader)
    template = template_env.get_template(template_file)

    # Variables to pass to the template
    template_vars = {
        "username": user_name,
    }

    # Render the template with the variables
    output_text = template.render(template_vars)

    # Write the output to a file
    with open(output_file, "w") as f:
        f.write(output_text)

    print(f"Template has been updated and saved to {output_file}")

if __name__ == "__main__":
    if len(sys.argv) != 3:
        print("Usage: python script.py <user_name> <template_file> <output_file>")
        sys.exit(1)

    usern_name = sys.argv[1]
    template_file = sys.argv[2]
    output_file = sys.argv[3]
    render_template(usern_name, template_file, output_file)
